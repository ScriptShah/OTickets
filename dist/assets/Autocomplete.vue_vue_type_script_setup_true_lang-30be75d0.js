import{o as l,c as o,g as a,d as z,b as C,G as T,E as b,m as _,i as u,h as t,a as d,j as A,t as f,C as g,a0 as V,A as m,x as L,F as B}from"./index-28d7808a.js";import{H as F,$ as S,K as U,U as $,_ as N,N as E}from"./combobox-f45cc6e0.js";import{S as H}from"./transition-d11ecd8d.js";function K(r,x){return l(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[a("path",{"fill-rule":"evenodd",d:"M11.47 4.72a.75.75 0 011.06 0l3.75 3.75a.75.75 0 01-1.06 1.06L12 6.31 8.78 9.53a.75.75 0 01-1.06-1.06l3.75-3.75zm-3.75 9.75a.75.75 0 011.06 0L12 17.69l3.22-3.22a.75.75 0 111.06 1.06l-3.75 3.75a.75.75 0 01-1.06 0l-3.75-3.75a.75.75 0 010-1.06z","clip-rule":"evenodd"})])}function M(r,x){return l(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[a("path",{"fill-rule":"evenodd",d:"M19.916 4.626a.75.75 0 01.208 1.04l-9 13.5a.75.75 0 01-1.154.114l-6-6a.75.75 0 011.06-1.06l5.353 5.353 8.493-12.739a.75.75 0 011.04-.208z","clip-rule":"evenodd"})])}const P={class:"relative mt-1"},j={key:0,class:"relative cursor-default select-none py-2 px-4 text-gray-700"},q={class:"block truncate"},D={class:"flex gap-2"},G=["src"],I={class:"text-xs"},R={class:"block truncate"},J={class:"block truncate"},O={key:0},Y=z({__name:"Autocomplete",props:{label:null,options:null,selected:null,errors:null,nullText:null,reset:{type:Boolean}},emits:["update","reset"],setup(r,{emit:x}){const c=r,p=C(c.selected??{});let s=C(""),y=T(()=>s.value===""?c.options:c.options.filter(n=>n.name.toLowerCase().replace(/\s+/g,"").includes(s.value.toLowerCase().replace(/\s+/g,""))||n.email&&n.email.toLowerCase().replace(/\s+/g,"").includes(s.value.toLowerCase().replace(/\s+/g,""))));return b(p,n=>{x("update",n)}),b(()=>c.selected,n=>{p.value=n??{}}),b(()=>c.reset,()=>{c.reset&&(p.value={},x("reset"))}),(n,i)=>(l(),_(t(E),{as:"div",modelValue:p.value,"onUpdate:modelValue":i[2]||(i[2]=v=>p.value=v)},{default:u(()=>{var v,k;return[d(t(F),{class:"block text-sm font-medium text-gray-700"},{default:u(()=>[A(f(r.label),1)]),_:1}),a("div",P,[d(t(S),{class:g([[(v=r.errors)!=null&&v.length?"border-red-300 pr-10 text-red-900 focus:border-red-300 focus:ring-red-500":"border-gray-300 text-gray-900 focus:border-teal-300 focus:ring-teal-500"],"w-full cursor-default rounded-md border bg-white py-2 pl-3 pr-10 text-left shadow-sm focus:outline-none focus:ring-1 sm:text-sm"]),displayValue:e=>(e==null?void 0:e.name)??r.nullText,onChange:i[0]||(i[0]=e=>V(s)?s.value=e.target.value:s=e.target.value)},null,8,["class","displayValue"]),d(t(U),{class:"absolute inset-y-0 right-0 flex items-center pr-2"},{default:u(()=>[d(t(K),{class:"h-5 w-5 text-gray-400"})]),_:1}),d(t(H),{leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",onAfterLeave:i[1]||(i[1]=e=>V(s)?s.value="":s="")},{default:u(()=>[d(t($),{class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:u(()=>[t(y).length===0&&t(s)!==""?(l(),o("div",j," Nothing found. ")):m("",!0),t(y).length||t(s)===""?(l(),_(t(N),{key:1,as:"template",value:null},{default:u(({active:e})=>[a("li",{class:g(["relative cursor-default select-none py-2 px-3 text-gray-700",{"bg-teal-600 text-white":e,"text-gray-900":!e}])},[a("span",q,f(r.nullText),1)],2)]),_:1})):m("",!0),(l(!0),o(B,null,L(t(y),e=>(l(),_(t(N),{as:"template",key:e.value,value:e},{default:u(({selected:w,active:h})=>[a("li",{class:g(["relative cursor-default select-none py-2 pl-3 pr-9",{"bg-teal-600 text-white":h,"text-gray-900":!h}])},[a("div",D,[e.picture?(l(),o("img",{key:0,src:e.picture,alt:"Profile Picture",class:"h-8 w-8 flex-shrink-0 rounded-full"},null,8,G)):m("",!0),a("div",null,[a("p",{class:g(["block truncate",{"font-medium":w,"font-normal":!w}])},f(e.name),3),a("div",I,[a("p",R,f(e.department),1),a("p",J,f(e.email),1)])])]),w?(l(),o("span",{key:0,class:g(["absolute inset-y-0 right-0 flex items-center pr-3",{"text-white":h,"text-teal-600":!h}])},[d(t(M),{class:"h-5 w-5"})],2)):m("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),(k=r.errors)!=null&&k.length?(l(),o("ul",O,[(l(!0),o(B,null,L(r.errors,e=>(l(),o("li",{key:e,class:"mt-1 text-sm text-red-600"},f(e),1))),128))])):m("",!0)]}),_:1},8,["modelValue"]))}});export{Y as _,M as a,K as r};
