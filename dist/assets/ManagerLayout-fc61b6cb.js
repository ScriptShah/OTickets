import{o as r,c as n,g as e,d as fe,b as me,e as pe,s as N,G as L,f as he,q as ge,a,i as o,h as t,F as g,x as b,t as d,l as xe,m as f,D as M,C as m,j as U,A as y,T as k,w as _e,k as ve,r as P}from"./index-28d7808a.js";import{_ as E}from"./Logo.vue_vue_type_script_setup_true_lang-0ebe68a6.js";import{r as F}from"./EllipsisHorizontalIcon-f2ab61ca.js";import{r as ye}from"./CalendarIcon-956603cd.js";import{r as we}from"./XMarkIcon-cf8614b7.js";import{r as I}from"./HomeIcon-a66fe5a1.js";import{r as be}from"./Squares2X2Icon-d64a4e52.js";import{r as R,a as ke}from"./BellIcon-ffeaf370.js";import{r as O,a as q,b as K}from"./KeyIcon-40766d1c.js";import{r as Ce}from"./EnvelopeIcon-a08726c7.js";import{u as De}from"./dashboard-51967606.js";import{u as $e,E as Ae}from"./emptyNotifications-8587fe08.js";import{K as Ne,_ as Me}from"./dialog-4ee4193f.js";import{h as j,S as Pe}from"./transition-d11ecd8d.js";import{S as C,b as D,g as $,M as u}from"./menu-880c2858.js";import"./global-6426d760.js";import"./use-tracked-pointer-3831155a.js";function Re(x,p){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 9h16.5m-16.5 6.75h16.5"})])}function je(x,p){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"})])}function ze(x,p){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 00.75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 00-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0112 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 01-.673-.38m0 0A2.18 2.18 0 013 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 013.413-.387m7.5 0V5.25A2.25 2.25 0 0013.5 3h-3a2.25 2.25 0 00-2.25 2.25v.894m7.5 0a48.667 48.667 0 00-7.5 0M12 12.75h.008v.008H12v-.008z"})])}function Se(x,p){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})])}function G(x,p){return r(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 01-.825-.242m9.345-8.334a2.126 2.126 0 00-.476-.095 48.64 48.64 0 00-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0011.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"})])}const Ve={class:"relative flex w-full max-w-xs flex-1 flex-col bg-white pt-5 pb-4"},Te={class:"absolute top-0 right-0 -mr-12 pt-2"},Be=e("span",{class:"sr-only"},"Close sidebar",-1),Le={class:"flex flex-shrink-0 items-center px-4"},Ue={class:"mt-5 h-0 flex-1 overflow-y-auto"},Ee={class:"space-y-1 px-2"},Fe={class:"flex items-center gap-3"},Ie={key:0},Oe={class:"inline-flex items-center rounded-full bg-red-100 px-2.5 py-0.5 text-xs font-medium text-red-800"},qe=e("div",{class:"w-14 flex-shrink-0"},null,-1),Ke={class:"hidden md:fixed md:inset-y-0 md:flex md:w-64 md:flex-col"},Ge={class:"flex flex-grow flex-col overflow-y-auto border-r border-gray-200 bg-white pt-5"},He={class:"flex flex-shrink-0 items-center gap-1 px-4"},Qe={class:"mt-5 flex flex-grow flex-col"},Ye={class:"flex-1 space-y-1 px-2 pb-4"},Je={class:"flex items-center gap-3"},We={key:0},Xe={class:"inline-flex items-center rounded-full bg-red-100 px-2.5 py-0.5 text-xs font-medium text-red-800"},Ze={class:"flex flex-1 flex-col md:pl-64"},et={class:"sticky top-0 z-20 flex h-16 flex-shrink-0 bg-white shadow"},tt=e("span",{class:"sr-only"},"Open sidebar",-1),st={class:"flex flex-1 justify-end px-4 sm:px-6 md:px-8"},at={class:"ml-4 flex items-center gap-3 md:ml-6"},ot=e("span",{class:"sr-only"},"View notifications",-1),rt={class:"relative"},nt={key:0,class:"absolute top-0 right-0 flex h-3 w-3"},it=e("span",{class:"absolute inline-flex h-full w-full animate-ping rounded-full bg-teal-400 opacity-75"},null,-1),lt=e("span",{class:"relative inline-flex h-3 w-3 rounded-full bg-teal-500"},null,-1),ct=[it,lt],dt={class:"flex items-center justify-between border-b p-3"},ut={class:"flex items-center gap-1"},ft=e("div",{class:"font-semibold"},"Notifications",-1),mt={key:0,class:"text-sm"},pt=["onClick"],ht={class:"flex flex-col overflow-hidden"},gt=["title"],xt={class:"flex items-center gap-1 text-xs"},_t={class:"flex items-center gap-2"},vt=["onClick"],yt=["onClick"],wt=["onClick"],bt={key:0,class:"h-3 w-3 rounded-full bg-teal-500"},kt=e("div",{class:"border-t bg-white p-3 text-center text-sm font-medium text-gray-700 hover:bg-gray-50"}," View all ",-1),Ct=e("p",{class:"mb-12 text-center text-gray-500"},"You have no notifications yet",-1),Dt=e("span",{class:"sr-only"},"Open user menu",-1),$t=["src"],At={class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},Nt={class:"flex-1"},Mt={class:"py-6"},Pt={class:"mx-auto max-w-7xl px-4 sm:px-6 md:px-8"},Rt={class:"text-2xl font-semibold text-gray-900"},jt={class:"mx-auto max-w-7xl px-4 sm:px-6 md:px-8"},zt={class:"py-4"},Wt=fe({__name:"ManagerLayout",setup(x){const p=[{name:"Profile",to:"DashboardProfile"}],_=me(!1),z=pe(),{user:H,isAdmin:Q,message:Y,isSuccess:J}=N(z),W=[{name:"Dashboard",to:"Dashboard",icon:I},{name:"Users",to:"DashboardUsers",icon:je},{name:"Departments",to:"DashboardDepartments",icon:ze},{name:"Clients",to:"DashboardClients",icon:Se},{name:"Categories",to:"DashboardCategories",icon:be},{name:"FAQs",to:"DashboardFaqs",icon:ke},{name:"Canned Responses",to:"DashboardCannedResponses",icon:G},{name:"Newsletters",to:"DashboardNewsletters",icon:Ce},{name:"Tickets",to:"DashboardTickets",icon:O},{name:"Profile",to:"DashboardProfile",icon:q},{name:"Password",to:"DashboardPassword",icon:K},{name:"Notifications",to:"DashboardNotifications",icon:R}],X=[{name:"Dashboard",to:"Dashboard",icon:I},{name:"Tickets",to:"DashboardTickets",icon:O},{name:"Canned Responses",to:"DashboardCannedResponses",icon:G},{name:"Profile",to:"DashboardProfile",icon:q},{name:"Password",to:"DashboardPassword",icon:K},{name:"Notifications",to:"DashboardNotifications",icon:R}],S=L(()=>Q.value?W:X),Z={}.VITE_API_URL,ee=L(()=>Z+H.value.picture),te=ve(),se=he(),ae=async()=>{await z.logout(),J.value?te.push({name:"Login"}):se.error(Y.value)},oe=De(),{title:re}=N(oe),h=$e(),{notificationsCounts:i,notifications:V}=N(h),v=async()=>{await h.getNotifications()},T=async l=>{await h.markAsRead(l),await v()},ne=async()=>{i.value.total!==0&&(await h.markAllAsRead(),await v())},ie=async l=>{await h.markAsUnread(l),await v()},le=async l=>{await h.deleteNotification(l),await v()},ce=xe();return ge(async()=>{ce.name!=="DashboardNotifications"&&await v()}),(l,c)=>{const w=P("router-link"),de=P("LottieAnimation"),ue=P("router-view");return r(),n("div",null,[a(t(Pe),{as:"template",show:_.value},{default:o(()=>[a(t(Ne),{as:"div",class:"fixed inset-0 z-40 flex md:hidden",onClose:c[2]||(c[2]=s=>_.value=!1)},{default:o(()=>[a(t(j),{as:"template",enter:"transition-opacity ease-linear duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:o(()=>[a(t(Me),{class:"fixed inset-0 bg-gray-600 bg-opacity-75"})]),_:1}),a(t(j),{as:"template",enter:"transition ease-in-out duration-300 transform","enter-from":"-translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-300 transform","leave-from":"translate-x-0","leave-to":"-translate-x-full"},{default:o(()=>[e("div",Ve,[a(t(j),{as:"template",enter:"ease-in-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:o(()=>[e("div",Te,[e("button",{type:"button",class:"ml-1 flex h-10 w-10 items-center justify-center rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:c[0]||(c[0]=s=>_.value=!1)},[Be,a(t(we),{class:"h-6 w-6 text-white"})])])]),_:1}),e("div",Le,[a(E,{"class-names":"w-12","with-text":""})]),e("div",Ue,[e("nav",Ee,[(r(!0),n(g,null,b(t(S),s=>(r(),f(w,{onClick:c[1]||(c[1]=A=>_.value=!1),key:s.name,to:{name:s.to},class:m([l.$route.name===s.to?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900","group flex items-center justify-between rounded-md px-2 py-2 text-base font-medium"])},{default:o(()=>[e("div",Fe,[(r(),f(M(s.icon),{class:m([l.$route.name===s.to?"text-gray-500":"text-gray-400 group-hover:text-gray-500"," h-6 w-6 flex-shrink-0"])},null,8,["class"])),U(" "+d(s.name),1)]),s.name==="Notifications"&&t(i).unread?(r(),n("div",Ie,[e("span",Oe,d(t(i).unread>99?"99+":t(i).unread),1)])):y("",!0)]),_:2},1032,["to","class"]))),128))])])])]),_:1}),qe]),_:1})]),_:1},8,["show"]),e("div",Ke,[e("div",Ge,[e("div",He,[a(E,{"class-names":"w-12","with-text":""})]),e("div",Qe,[e("nav",Ye,[(r(!0),n(g,null,b(t(S),s=>(r(),f(w,{key:s.name,to:{name:s.to},class:m([l.$route.name===s.to?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900","group flex items-center justify-between rounded-md px-2 py-2 text-sm font-medium"])},{default:o(()=>[e("div",Je,[(r(),f(M(s.icon),{class:m([l.$route.name===s.to?"text-gray-500":"text-gray-400 group-hover:text-gray-500","h-6 w-6 flex-shrink-0"])},null,8,["class"])),U(" "+d(s.name),1)]),s.name==="Notifications"&&t(i).unread?(r(),n("div",We,[e("span",Xe,d(t(i).unread>99?"99+":t(i).unread),1)])):y("",!0)]),_:2},1032,["to","class"]))),128))])])])]),e("div",Ze,[e("div",et,[e("button",{type:"button",class:"border-r border-gray-200 px-4 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-teal-500 md:hidden",onClick:c[3]||(c[3]=s=>_.value=!0)},[tt,a(t(Re),{class:"h-6 w-6"})]),e("div",st,[e("div",at,[a(t($),{as:"div"},{default:o(()=>[a(t(C),{type:"button",class:"flex rounded-full p-1 text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2"},{default:o(()=>[ot,e("div",rt,[a(t(R),{class:"h-6 w-6"}),t(i).unread?(r(),n("span",nt,ct)):y("",!0)])]),_:1}),a(k,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:o(()=>[a(t(D),{class:"absolute right-0 z-10 mt-2 w-96 max-w-full origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:o(()=>[e("div",dt,[e("div",ut,[ft,t(i).unread?(r(),n("div",mt," ("+d(t(i).unread)+" unread) ",1)):y("",!0)]),a(t($),{as:"div",class:"relative flex"},{default:o(()=>[a(t(C),null,{default:o(()=>[a(t(F),{class:"h-5 w-5 text-gray-700 hover:text-gray-800"})]),_:1}),a(k,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:o(()=>[a(t(D),{class:"absolute right-0 z-10 mt-5 w-36 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:o(()=>[a(t(u),{class:"cursor-pointer"},{default:o(()=>[e("div",{onClick:ne,class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Mark all as read ")]),_:1})]),_:1})]),_:1})]),_:1})]),t(V).total?(r(),n(g,{key:0},[(r(!0),n(g,null,b(t(V).data,s=>{var A;return r(),f(M((A=s.data)!=null&&A.reference?"router-link":"span"),{key:s.id,to:{name:"DashboardSingleTicket",params:{reference:s.data.reference}}},{default:o(()=>[a(t(u),{class:m({"cursor-pointer":s.data.reference&&!s.read_at})},{default:o(()=>[e("div",{onClick:()=>s.data.reference&&!s.read_at&&T(s.id),class:"group flex items-center justify-between gap-3 px-3 py-4 hover:bg-gray-50"},[e("div",ht,[e("div",{class:m([{"text-gray-600":s.read_at,"font-semibold text-teal-600":!s.read_at},"truncate text-base"]),title:s.data.message},d(s.data.message),11,gt),e("div",xt,[a(t(ye),{class:"h-4 w-4 text-gray-400"}),e("span",{class:m({"text-gray-600":s.read_at})},d(s.created_at),3)])]),e("div",_t,[a(t($),{onClick:c[4]||(c[4]=_e(()=>{},["prevent","stop"])),as:"div",class:"relative hidden shrink-0 rounded-full border bg-white shadow hover:bg-gray-100 group-hover:flex"},{default:o(()=>[a(t(C),{class:"p-2"},{default:o(()=>[a(t(F),{class:"h-5 w-5"})]),_:1}),a(k,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:o(()=>[a(t(D),{class:"absolute right-0 z-10 mt-10 w-32 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:o(()=>[s.read_at?(r(),f(t(u),{key:1,class:"cursor-pointer"},{default:o(()=>[e("div",{onClick:B=>ie(s.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Mark as unread ",8,yt)]),_:2},1024)):(r(),f(t(u),{key:0,class:"cursor-pointer"},{default:o(()=>[e("div",{onClick:B=>T(s.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Mark as read ",8,vt)]),_:2},1024)),a(t(u),{class:"cursor-pointer"},{default:o(()=>[e("div",{onClick:B=>le(s.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Delete ",8,wt)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),s.read_at?y("",!0):(r(),n("div",bt))])],8,pt)]),_:2},1032,["class"])]),_:2},1032,["to"])}),128)),a(w,{to:{name:"DashboardNotifications"}},{default:o(()=>[a(t(u),null,{default:o(()=>[kt]),_:1})]),_:1})],64)):(r(),n(g,{key:1},[a(de,{animationData:t(Ae),class:"w-40 max-w-full"},null,8,["animationData"]),Ct],64))]),_:1})]),_:1})]),_:1}),a(t($),{as:"div",class:"relative"},{default:o(()=>[e("div",null,[a(t(C),{class:"flex max-w-xs items-center rounded-full bg-white text-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2"},{default:o(()=>[Dt,e("img",{class:"h-8 w-8 rounded-full",src:t(ee),alt:"Profile Picture"},null,8,$t)]),_:1})]),a(k,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:o(()=>[a(t(D),{class:"absolute right-0 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:o(()=>[(r(),n(g,null,b(p,s=>a(w,{key:s.name,to:{name:s.to}},{default:o(()=>[a(t(u),null,{default:o(()=>[e("div",At,d(s.name),1)]),_:2},1024)]),_:2},1032,["to"])),64)),a(t(u),{class:"cursor-pointer"},{default:o(()=>[e("div",{onClick:ae,class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Logout ")]),_:1})]),_:1})]),_:1})]),_:1})])])]),e("main",Nt,[e("div",Mt,[e("div",Pt,[e("h1",Rt,d(t(re)),1)]),e("div",jt,[e("div",zt,[a(ue)])])])])])])}}});export{Wt as default};
