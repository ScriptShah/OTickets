import{H as $,N as oe,C as se,j as h,t as ue,u as H,o as G,c as de,l as p,n as fe,p as ve,T as pe}from"./use-tracked-pointer-3831155a.js";import{d as j,b as g,X as Q,G as F,q as w,N as Y,O as L,E as me,M as P,C as ce,P as N}from"./index-28d7808a.js";var he=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(he||{});let Ne=j({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:t,attrs:n}){return()=>{let{features:r,...l}=e,a={"aria-hidden":(r&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return $({ourProps:a,theirProps:l,slot:{},attrs:n,slots:t,name:"Hidden"})}}});function ge(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function be(){return/Android/gi.test(window.navigator.userAgent)}function Me(){return ge()||be()}function Z(){let e=[],t={addEventListener(n,r,l,a){return n.addEventListener(r,l,a),t.add(()=>n.removeEventListener(r,l,a))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){t.requestAnimationFrame(()=>{t.requestAnimationFrame(...n)})},setTimeout(...n){let r=setTimeout(...n);t.add(()=>clearTimeout(r))},add(n){e.push(n)},style(n,r,l){let a=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:l}),this.add(()=>{Object.assign(n.style,{[r]:a})})},dispose(){for(let n of e.splice(0))n()}};return t}function ye(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function O(e,...t){e&&t.length>0&&e.classList.add(...t)}function T(e,...t){e&&t.length>0&&e.classList.remove(...t)}var x=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(x||{});function we(e,t){let n=Z();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:l}=getComputedStyle(e),[a,i]=[r,l].map(o=>{let[u=0]=o.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,f)=>f-d);return u});return a!==0?n.setTimeout(()=>t("finished"),a+i):t("finished"),n.add(()=>t("cancelled")),n.dispose}function J(e,t,n,r,l,a){let i=Z(),o=a!==void 0?ye(a):()=>{};return T(e,...l),O(e,...t,...n),i.nextFrame(()=>{T(e,...n),O(e,...r),i.add(we(e,u=>(T(e,...r,...t),O(e,...l),o(u))))}),i.add(()=>T(e,...t,...n,...r,...l)),i.add(()=>o("cancelled")),i.dispose}function c(e=""){return e.split(" ").filter(t=>t.trim().length>1)}let M=Symbol("TransitionContext");var Se=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Se||{});function Ee(){return N(M,null)!==null}function Te(){let e=N(M,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function Fe(){let e=N(q,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let q=Symbol("NestingContext");function A(e){return"children"in e?A(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function _(e){let t=g([]),n=g(!1);w(()=>n.value=!0),Y(()=>n.value=!1);function r(a,i=h.Hidden){let o=t.value.findIndex(({id:u})=>u===a);o!==-1&&(H(i,{[h.Unmount](){t.value.splice(o,1)},[h.Hidden](){t.value[o].state="hidden"}}),!A(t)&&n.value&&(e==null||e()))}function l(a){let i=t.value.find(({id:o})=>o===a);return i?i.state!=="visible"&&(i.state="visible"):t.value.push({id:a,state:"visible"}),()=>r(a,h.Unmount)}return{children:t,register:l,unregister:r}}let k=oe.RenderStrategy,Le=j({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:r,expose:l}){let a=g(0);function i(){a.value|=p.Opening,t("beforeEnter")}function o(){a.value&=~p.Opening,t("afterEnter")}function u(){a.value|=p.Closing,t("beforeLeave")}function d(){a.value&=~p.Closing,t("afterLeave")}if(!Ee()&&se())return()=>Q(Ce,{...e,onBeforeEnter:i,onAfterEnter:o,onBeforeLeave:u,onAfterLeave:d},r);let f=g(null),s=g("visible"),K=F(()=>e.unmount?h.Unmount:h.Hidden);l({el:f,$el:f});let{show:b,appear:D}=Te(),{register:R,unregister:C}=Fe(),U={value:!0},y=ue(),S={value:!1},V=_(()=>{!S.value&&s.value!=="hidden"&&(s.value="hidden",C(y),d())});w(()=>{let v=R(y);Y(v)}),L(()=>{if(K.value===h.Hidden&&y){if(b&&s.value!=="visible"){s.value="visible";return}H(s.value,{hidden:()=>C(y),visible:()=>R(y)})}});let I=c(e.enter),W=c(e.enterFrom),ee=c(e.enterTo),X=c(e.entered),te=c(e.leave),ne=c(e.leaveFrom),re=c(e.leaveTo);w(()=>{L(()=>{if(s.value==="visible"){let v=G(f);if(v instanceof Comment&&v.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function ae(v){let B=U.value&&!D.value,m=G(f);!m||!(m instanceof HTMLElement)||B||(S.value=!0,b.value&&i(),b.value||u(),v(b.value?J(m,I,W,ee,X,E=>{S.value=!1,E===x.Finished&&o()}):J(m,te,ne,re,X,E=>{S.value=!1,E===x.Finished&&(A(V)||(s.value="hidden",C(y),d()))})))}return w(()=>{me([b],(v,B,m)=>{ae(m),U.value=!1},{immediate:!0})}),P(q,V),de(F(()=>H(s.value,{visible:p.Open,hidden:p.Closed})|a.value)),()=>{let{appear:v,show:B,enter:m,enterFrom:E,enterTo:Be,entered:Oe,leave:He,leaveFrom:Pe,leaveTo:xe,...z}=e,ie={ref:f},le={...z,...D&&b&&fe.isServer?{class:ce([z.class,...I,...W])}:{}};return $({theirProps:le,ourProps:ie,slot:{},slots:r,attrs:n,features:k,visible:s.value==="visible",name:"TransitionChild"})}}}),Ae=Le,Ce=j({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:r}){let l=ve(),a=F(()=>e.show===null&&l!==null?(l.value&p.Open)===p.Open:e.show);L(()=>{if(![!0,!1].includes(a.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let i=g(a.value?"visible":"hidden"),o=_(()=>{i.value="hidden"}),u=g(!0),d={show:a,appear:F(()=>e.appear||!u.value)};return w(()=>{L(()=>{u.value=!1,a.value?i.value="visible":A(o)||(i.value="hidden")})}),P(q,o),P(M,d),()=>{let f=pe(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),s={unmount:e.unmount};return $({ourProps:{...s,as:"template"},theirProps:{},slot:{},slots:{...r,default:()=>[Q(Ae,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...n,...s,...f},r.default)]},attrs:{},features:k,visible:i.value==="visible",name:"Transition"})}}});export{Ce as S,he as a,Ne as f,Le as h,Me as n,Z as r,ge as t};
