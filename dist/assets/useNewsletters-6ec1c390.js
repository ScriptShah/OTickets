import{b as r,y as v}from"./index-28d7808a.js";const o=r({}),a=r(""),t=r(!1),l=r(!1),f=async(u,e,s=null)=>{o.value={},t.value=!0,l.value=!1;const h=s?`/newsletters/${s}`:"/newsletters";await v.post(h,{email:u,_method:e}).then(n=>{a.value=n.data.message,l.value=!0}).catch(n=>{var c;o.value=(c=n.response)==null?void 0:c.data.errors,a.value="Please check the errors"}).then(()=>t.value=!1)},d=async u=>{t.value=!0,l.value=!1,await v.delete(`/newsletters/${u}`).then(e=>{a.value=e.data.message,l.value=!0}).catch(e=>{var s;a.value=(s=e.response)==null?void 0:s.data.message}).then(()=>t.value=!1)},i=()=>({errors:o,isLoading:t,isSuccess:l,message:a,save:f,destroy:d});export{i as u};
