import{t as C,H as y,b as G,o as B,K as M,T as R,a as g}from"./use-tracked-pointer-3831155a.js";import{b as S,M as L,G as d,d as k,q as E,N as F,h as H,P as j,E as q,X as w,F as A}from"./index-28d7808a.js";import{M as I}from"./dialog-4ee4193f.js";import{f as N,a as U}from"./transition-d11ecd8d.js";import{d as X,p as Y}from"./use-controllable-fce04192.js";let x=Symbol("LabelContext");function O(){let t=j(x,null);if(t===null){let r=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(r,O),r}return t}function z({slot:t={},name:r="Label",props:o={}}={}){let l=S([]);function i(a){return l.value.push(a),()=>{let n=l.value.indexOf(a);n!==-1&&l.value.splice(n,1)}}return L(x,{register:i,slot:t,name:r,props:o}),d(()=>l.value.length>0?l.value.join(" "):void 0)}let J=k({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-label-${C()}`}},setup(t,{slots:r,attrs:o}){let l=O();return E(()=>F(l.register(t.id))),()=>{let{name:i="Label",slot:a={},props:n={}}=l,{id:p,passive:c,...m}=t,u={...Object.entries(n).reduce((v,[b,h])=>Object.assign(v,{[b]:H(h)}),{}),id:p};return c&&(delete u.onClick,delete m.onClick),y({ourProps:u,theirProps:m,slot:a,attrs:o,slots:r,name:i})}}}),P=Symbol("GroupContext"),te=k({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(t,{slots:r,attrs:o}){let l=S(null),i=z({name:"SwitchLabel",props:{onClick(){l.value&&(l.value.click(),l.value.focus({preventScroll:!0}))}}}),a=I({name:"SwitchDescription"});return L(P,{switchRef:l,labelledby:i,describedby:a}),()=>y({theirProps:t,ourProps:{},slot:{},slots:r,attrs:o,name:"SwitchGroup"})}}),le=k({name:"Switch",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${C()}`}},inheritAttrs:!1,setup(t,{emit:r,attrs:o,slots:l,expose:i}){let a=j(P,null),[n,p]=X(d(()=>t.modelValue),e=>r("update:modelValue",e),d(()=>t.defaultChecked));function c(){p(!n.value)}let m=S(null),u=a===null?m:a.switchRef,v=G(d(()=>({as:t.as,type:o.type})),u);i({el:u,$el:u});function b(e){e.preventDefault(),c()}function h(e){e.key===g.Space?(e.preventDefault(),c()):e.key===g.Enter&&Y(e.currentTarget)}function $(e){e.preventDefault()}let f=d(()=>{var e,s;return(s=(e=B(u))==null?void 0:e.closest)==null?void 0:s.call(e,"form")});return E(()=>{q([f],()=>{if(!f.value||t.defaultChecked===void 0)return;function e(){p(t.defaultChecked)}return f.value.addEventListener("reset",e),()=>{var s;(s=f.value)==null||s.removeEventListener("reset",e)}},{immediate:!0})}),()=>{let{id:e,name:s,value:K,...T}=t,D={checked:n.value},V={id:e,ref:u,role:"switch",type:v.value,tabIndex:0,"aria-checked":n.value,"aria-labelledby":a==null?void 0:a.labelledby.value,"aria-describedby":a==null?void 0:a.describedby.value,onClick:b,onKeyup:h,onKeypress:$};return w(A,[s!=null&&n.value!=null?w(N,M({features:U.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:n.value,name:s,value:K})):null,y({ourProps:V,theirProps:{...o,...R(T,["modelValue","defaultChecked"])},slot:D,attrs:o,slots:l,name:"Switch"})])}}}),ae=J;export{ae as a,te as o,le as u};
